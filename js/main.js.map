{"version":3,"file":"js/main.js","mappings":"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","sources":["webpack://webpack_v2/./src/js/slider-head/redrawSlHead.js","webpack://webpack_v2/./src/js/slider-head/controllSlHead.js","webpack://webpack_v2/./src/js/slider-prod/controllSlProd.js","webpack://webpack_v2/./src/js/slider-prod/redrawSlProd.js","webpack://webpack_v2/./src/js/app.js"],"sourcesContent":["export default class RedrawSlHead {\r\n    constructor(slider) {\r\n        this.slider = slider;\r\n        this.slides = this.slider.querySelector('.slider-h__slides-list ')\r\n        this.arrows = [...this.slider.querySelectorAll('.slider__arrow')];\r\n        this.paginations = this.slider.querySelector('.slider-h__pagination-list');\r\n        this.wrLine = this.slider.querySelector('.slider-h__nav-line');\r\n        this.line = this.wrLine.children[0];\r\n\r\n        this.amountSlides = this.slides.children.length;\r\n        this.widthLine = null; // расчитано во vw\r\n\r\n        // Параметры анимации\r\n        this.timingFunc = 'linear';\r\n        this.duration = '0.3'\r\n\r\n        // Счетчик для полосы индикации\r\n        this.lineCounter = 0;\r\n\r\n        // прибиваем контекст для controll\r\n        this.initSlider = this.initSlider.bind(this);\r\n    }\r\n\r\n    initSlider() {\r\n        // деактивируем слайдер если слайд один\r\n        if(this.amountSlides === 1) return;\r\n\r\n        this.slides.style.width = `${100 * this.amountSlides}%`\r\n\r\n        // активируем стрелки\r\n        this.arrows.forEach(item => item.style = 'display: block;');\r\n        this.arrows[0].parentElement.style = 'justify-content: space-between;';\r\n\r\n        // активируем линию прокрутки\r\n        const widthLine = this.wrLine.offsetWidth;\r\n        this.widthLine = (widthLine / this.amountSlides) / innerWidth * 100;\r\n        this.line.style = `width: ${this.widthLine}vw;`;\r\n        this.line.style.transition = `transform ${this.duration}s ${this.timingFunc}`;\r\n    }\r\n\r\n    moveNext() {\r\n        const width = this.slider.offsetWidth;\r\n        this.slides.style.transition = `transform ${this.duration}s ${this.timingFunc}`;\r\n        this.slides.style.transform = `translateX(-${width}px)`;\r\n\r\n        this.slides.addEventListener('transitionend', () => {\r\n            this.slides.style.transition = ``;\r\n            this.slides.append(this.slides.children[0]);\r\n            this.slides.style.transform = ``;\r\n        },{once: true})\r\n\r\n        this.moveLineNext();\r\n    }\r\n\r\n    movePrev() {\r\n        const width = this.slider.offsetWidth;\r\n        const lastSlideIndex = this.slides.children.length - 1;\r\n        this.slides.prepend(this.slides.children[lastSlideIndex]);\r\n        this.slides.style.transform = `translateX(-${width}px)`;\r\n\r\n        setTimeout(() => {\r\n            this.slides.style.transition = `transform ${this.duration}s ${this.timingFunc}`;\r\n            this.slides.style.transform = ``;\r\n        })\r\n\r\n        this.slides.addEventListener('transitionend', () => {\r\n            this.slides.style.transition = ``;\r\n        },{once: true})\r\n\r\n        this.moveLinePrev();\r\n    }\r\n\r\n    clickPag(el) {\r\n        const num = +el.dataset.num;\r\n        if(num === this.lineCounter) return;\r\n\r\n        // двигаем слайды и ползунок в право\r\n        if(num > this.lineCounter) {\r\n            const amount = num - this.lineCounter;\r\n            for(let i = 0; i < amount; i += 1) {\r\n                this.moveNext();\r\n            }\r\n        }\r\n        \r\n        // двигаем слайды и ползунок в лево\r\n        if(num < this.lineCounter) {\r\n            const amount = this.lineCounter - num;\r\n            for(let i = 0; i < amount; i += 1) {\r\n                this.movePrev();\r\n            }\r\n        }\r\n    }\r\n\r\n    moveLineNext() {\r\n        this.lineCounter += 1;\r\n        \r\n\r\n        // пока слайды не зациклились\r\n        if(this.lineCounter !== this.amountSlides) {\r\n            const offset = this.widthLine * this.lineCounter;\r\n            this.line.style.transform = `translateX(${offset}vw)`;\r\n        }\r\n\r\n        // когда слайды зациклились (повторились сначала)\r\n        if(this.lineCounter === this.amountSlides) {\r\n            // сдвигаем старый ползунок\r\n            const offset = this.widthLine * this.lineCounter;\r\n            this.line.style.transform = `translateX(${offset}vw)`;\r\n\r\n            // Создаем новый ползунок, ставим в начало и сдвигаем\r\n            const div = this.createLine();\r\n            this.wrLine.prepend(div);\r\n            div.style.transform = `translateX(-${this.widthLine}vw)`;\r\n            setTimeout(() => {\r\n                div.style.transform = ``;\r\n            })\r\n\r\n            // убираем позиционирование и переопределяем переменную с ползунком\r\n            div.addEventListener('transitionend', () => {\r\n                this.wrLine.children[1].remove();\r\n                div.style.position = '';\r\n                this.line = this.wrLine.children[0];\r\n\r\n                this.lineCounter = 0;\r\n            }, {once: true})\r\n        }\r\n    }\r\n\r\n    moveLinePrev() {\r\n        this.lineCounter -= 1;\r\n\r\n        // если стартовая позиция крайнее левое положение\r\n        if(this.lineCounter < 0) {\r\n            const offset = this.widthLine * this.lineCounter;\r\n            this.line.style.transform = `translateX(${offset}vw)`;\r\n\r\n            // Создаем новый ползунок, ставим в конец и сдвигаем\r\n            const div = this.createLine();\r\n            this.wrLine.append(div);\r\n            const offsetDiv = this.widthLine * this.amountSlides\r\n            div.style.transform = `translateX(${offsetDiv}vw)`;\r\n            this.lineCounter = this.amountSlides - 1;\r\n            setTimeout(() => {\r\n                const offset = offsetDiv - this.widthLine;\r\n                div.style.transform = `translateX(${offset}vw)`;\r\n            })\r\n\r\n            // убираем позиционирование и переопределяем переменную с ползунком\r\n            div.addEventListener('transitionend', () => {\r\n                this.wrLine.children[0].remove();\r\n                div.style.position = '';\r\n                this.line = this.wrLine.children[0];\r\n            }, {once: true})\r\n\r\n            return;\r\n        }\r\n\r\n        // если стартовая позиция не крайнее левое положение\r\n        if(this.lineCounter >= 0) {\r\n            const offset = this.widthLine * this.lineCounter;\r\n            this.line.style.transform = `translateX(${offset}vw)`;\r\n        }\r\n    }\r\n\r\n    // Метод для создания ползунка\r\n    createLine() {\r\n        const div = document.createElement('div');\r\n        div.style.position = 'absolute'; // чтоб вышел из потока и не сдвигал старый\r\n        div.style.transition = `transform ${this.duration}s ${this.timingFunc}`;\r\n        div.style.width = `${this.widthLine}vw`;\r\n        div.classList.add('slider-h__nav-line-item');\r\n\r\n        return div;\r\n    }\r\n}","export default class ControllSlHead {\r\n    constructor(d) {\r\n        this.d = d\r\n        this.slider = d.slider;\r\n        this.initSlider = d.initSlider;\r\n\r\n        this.click = this.click.bind(this);\r\n    }\r\n\r\n    init() {\r\n        this.d.initSlider();\r\n        this.d.slider.addEventListener('click', this.click);\r\n    }\r\n\r\n    click(e) {\r\n        // NEXT клик по стрелке\r\n        if(e.target.closest('.slider__arrow-next')) {\r\n           this.d.moveNext();\r\n        }\r\n\r\n        // PREV клик по стрелке\r\n        if(e.target.closest('.slider__arrow-prev')) {\r\n            this.d.movePrev();\r\n        }\r\n\r\n        if(e.target.closest('.slider-h__pagination-item')) {\r\n            this.d.clickPag(e.target.closest('.slider-h__pagination-item'));\r\n        }\r\n    }\r\n}","export default class ControllSlProd {\r\n    constructor(d) {\r\n        this.d = d;\r\n\r\n        this.click = this.click.bind(this);\r\n    }\r\n\r\n    init() {\r\n        this.d.initSlider();\r\n        this.registerEvents();\r\n    }\r\n\r\n    registerEvents() {\r\n        this.d.arrow.addEventListener('click', this.click);\r\n    }\r\n\r\n    click() {\r\n        this.d.move();\r\n    }\r\n} ","export default class RedrawSlProd {\r\n    constructor(slider, data) {\r\n        this.slider = slider;\r\n        this.data = data;\r\n\r\n        this.description = this.slider.querySelector('.sl-prod__text-about');\r\n        this.wrSlides = this.slider.querySelector('.sl-prod__wr-slides');\r\n        this.slides = this.slider.querySelector('.sl-prod__slides');\r\n        this.arrow = this.slider.querySelector('.slider__arrow');\r\n        this.wrBigImg = this.slider.querySelector('.sl-prod__big-img');\r\n        this.bigImg = this.slider.querySelector('.sl-prod__big-img img');\r\n\r\n        this.amountSlides = this.slides.children.length;\r\n        this.amountShow = 3;\r\n\r\n        this.timeFunc = 'linear';\r\n        this.duration = 0.5;\r\n        this.durationHalf = this.duration / 2;\r\n\r\n        this.oldActiveSlide = null;\r\n        this.activeSlide = null;\r\n\r\n        this.block = false;\r\n    }\r\n\r\n    initSlider() { \r\n        // формируем слайды\r\n        this.data.forEach((item, index) => {\r\n\r\n                const el = this.createSlide(\r\n                    item.img,\r\n                    item.title,\r\n                    '#',\r\n                    item.title\r\n                    );\r\n    \r\n                el.style.transition = `height ${this.duration}s ${this.timeFunc}, width ${this.duration}s ${this.timeFunc}`;\r\n    \r\n                if(index === 0) {\r\n                    // el.dataset.status = 'active';\r\n                    el.classList.add('sl-prod__slide_active');\r\n    \r\n                    this.bigImg.src = item.img;\r\n                    this.bigImg.alt = item.title;\r\n                }\r\n                el.id = item.id;\r\n    \r\n                this.slides.append(el);\r\n\r\n        });\r\n\r\n        // Запоминаем активный слайд\r\n        this.activeSlide = this.slides.children[0];\r\n\r\n        // ставим стрелку на место\r\n        this.arrow.style = `\r\n        position: absolute;\r\n        right: 2%;\r\n        top: 50%;\r\n\r\n        display: block;\r\n\r\n        transform: translate(0, -50%);\r\n        `;\r\n\r\n        // задаем ширину контейнеру со слайдами во vw\r\n        this.setWidthSliderContainer();\r\n\r\n        // Заполняем информацию о продукте\r\n        this.fillTextInfo();\r\n\r\n        // Определяем анимацию для большой картинки\r\n        this.wrBigImg.style.transition = `opacity ${this.durationHalf}s ${this.timeFunc}`;\r\n\r\n        // Определяем анимацию для блока с текстом, описанием товара\r\n        this.description.style.transition = `opacity ${this.durationHalf}s ${this.timeFunc}`;\r\n    }\r\n\r\n    move() {\r\n        // блокируем накликивание\r\n        if(this.block) return;\r\n        this.block = true;\r\n\r\n        // подставляем первый слайд назад\r\n        const clone = this.activeSlide.cloneNode(true);\r\n        clone.classList.remove('sl-prod__slide_active');\r\n        this.slides.append(clone);\r\n        this.setWidthSliderContainer();\r\n\r\n        this.slides.style.transition = `transform ${this.duration}s ${this.timeFunc}`;\r\n        setTimeout(() => {\r\n            // получаем ширину активного слайда vw\r\n            const width = this.activeSlide.offsetWidth;\r\n            const offset = (width + this.getGap()) / innerWidth * 100;\r\n            this.slides.style.transform = `translateX(-${offset}vw)`;\r\n            this.oldActiveSlide = this.activeSlide;\r\n            this.activeSlide = this.slides.children[1];\r\n            this.activeSlide.classList.add('sl-prod__slide_active');\r\n        })\r\n\r\n        this.slides.addEventListener('transitionend', () => {\r\n            this.slides.style.transition = ``;\r\n            this.oldActiveSlide.remove();\r\n            this.slides.style.transform = ``;\r\n\r\n            this.block = false;\r\n        }, {once: true});\r\n\r\n        // меняем большую картинку и описание товара\r\n        this.changeBigImg();\r\n        this.changeTextInfo();\r\n    }\r\n\r\n    changeBigImg() {\r\n        this.wrBigImg.classList.remove('sl-prod__big-img_visible');\r\n\r\n        this.wrBigImg.addEventListener('transitionend', () => {\r\n            const activeImg = this.activeSlide.querySelector('img');\r\n            this.bigImg.src = activeImg.src;\r\n\r\n            this.wrBigImg.classList.add('sl-prod__big-img_visible');\r\n        }, {once: true})\r\n    }\r\n\r\n    changeTextInfo() {\r\n        this.description.classList.remove('sl-prod__text-about_visible');\r\n\r\n        this.description.addEventListener('transitionend', () => {\r\n            this.fillTextInfo();\r\n\r\n            this.description.classList.add('sl-prod__text-about_visible');\r\n        }, {once: true})\r\n    }\r\n\r\n    fillTextInfo() {\r\n        const id = this.activeSlide.id;\r\n        console.log('id', this.activeSlide)\r\n        const info = this.data.find( item => item.id === id);\r\n        const keys = Object.keys(info);\r\n        keys.forEach( item => {\r\n            const el = this.description.querySelector(`[data-type=\"${item}\"]`);\r\n            if(el) el.textContent = info[item]\r\n        })\r\n    }\r\n\r\n    createSlide(pathImg, title, href, linkTitle) {\r\n        const li = this.createEl('li', 'sl-prod__slide');\r\n\r\n        const divImg = this.createEl('div', 'sl-prod__wr-img-slide');\r\n        const img = this.createEl('img', 'sl-prod__img-slide');\r\n        img.src = pathImg;\r\n        divImg.append(img);\r\n\r\n        const divTitle = this.createEl('div', 'sl-prod__wr-title-slide');\r\n        const h3 = this.createEl('h3', 'sl-prod__title-slide');\r\n        h3.textContent = title;\r\n        divTitle.append(h3);\r\n\r\n        const divButton = this.createEl('div', 'sl-prod__wr-button-slide');\r\n        const link = this.createEl('a', 'sl-prod__button-slide');\r\n        link.href = href;\r\n        link.title = linkTitle;\r\n        link.textContent = 'Подробнее';\r\n        const linkDeco = this.createEl('div', 'sl-prod__wr-button-slide-deco');\r\n        linkDeco.style.transition = `opacity ${this.duration}s ${this.timeFunc}`;\r\n        divButton.append(link);\r\n        divButton.append(linkDeco);\r\n\r\n        li.append(divImg);\r\n        li.append(divTitle);\r\n        li.append(divButton);\r\n\r\n        return li;\r\n    }\r\n\r\n    createEl(el, className) {\r\n        const element = document.createElement(el);\r\n        element.classList.add(className);\r\n        return element;\r\n    }\r\n\r\n    setWidthSliderContainer() {\r\n        // задаем ширину контейнеру со слайдами во vw\r\n        let width = [...this.slides.children].reduce( (acc, item, index) => {\r\n            return index < this.amountShow ? \r\n            (\r\n                acc += item.offsetWidth / innerWidth * 100\r\n            ) : \r\n            (\r\n                acc\r\n            );\r\n        }, 0);\r\n        width += (this.getGap() * this.amountShow) / innerWidth * 100;\r\n        this.wrSlides.style = `width: ${width.toFixed(3)}vw;`;\r\n    }\r\n\r\n    getGap() {\r\n        return parseFloat(getComputedStyle(this.slides).gap);\r\n    }\r\n}","\r\n// самый верхний слайдер с видео\r\nimport RedrawSlHead from \"./slider-head/redrawSlHead\";\r\nimport ControllSlHead from \"./slider-head/controllSlHead\";\r\n\r\n// продуктовый слайдер\r\nimport ControllSlProd from \"./slider-prod/controllSlProd\";\r\nimport RedrawSlProd from \"./slider-prod/redrawSlProd\";\r\nimport sliderProdData from \"../base/slider-top.json\";\r\n\r\ndocument.addEventListener('DOMContentLoaded', (e) => {\r\n    \r\n    // SLIDER HEAD\r\n    const sliderHead = document.querySelector('.slider-h');\r\n\r\n    if(sliderHead) {\r\n        const redrawSlHead = new RedrawSlHead(sliderHead);\r\n        const controllSlHead = new ControllSlHead(redrawSlHead);\r\n        controllSlHead.init();\r\n    }\r\n\r\n    const sliderProd1 = document.querySelector('.products__wr-slider-top');\r\n\r\n    if(sliderProd1) {\r\n        const redrawSlProd = new RedrawSlProd(sliderProd1, sliderProdData);\r\n        const controllSlProd = new ControllSlProd(redrawSlProd);\r\n        controllSlProd.init();\r\n    }\r\n})\r\n"],"names":["RedrawSlHead","constructor","slider","this","slides","querySelector","arrows","querySelectorAll","paginations","wrLine","line","children","amountSlides","length","widthLine","timingFunc","duration","lineCounter","initSlider","bind","style","width","forEach","item","parentElement","offsetWidth","innerWidth","transition","moveNext","transform","addEventListener","append","once","moveLineNext","movePrev","lastSlideIndex","prepend","setTimeout","moveLinePrev","clickPag","el","num","dataset","amount","i","offset","div","createLine","remove","position","offsetDiv","document","createElement","classList","add","ControllSlHead","d","click","init","e","target","closest","ControllSlProd","registerEvents","arrow","move","RedrawSlProd","data","description","wrSlides","wrBigImg","bigImg","amountShow","timeFunc","durationHalf","oldActiveSlide","activeSlide","block","index","createSlide","img","title","src","alt","id","setWidthSliderContainer","fillTextInfo","clone","cloneNode","getGap","changeBigImg","changeTextInfo","activeImg","console","log","info","find","Object","keys","textContent","pathImg","href","linkTitle","li","createEl","divImg","divTitle","h3","divButton","link","linkDeco","className","element","reduce","acc","toFixed","parseFloat","getComputedStyle","gap","sliderHead","redrawSlHead","sliderProd1","redrawSlProd"],"sourceRoot":""}